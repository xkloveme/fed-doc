(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{208:function(t,s,a){t.exports=a.p+"assets/img/iconfont.64cb3bfa.png"},221:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"消防app模板使用说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#消防app模板使用说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 消防APP模板使用说明")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"http://gitlab.hekr.me/front-end/fire-app-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("消防APP模板地址"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"_1-环境搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-环境搭建","aria-hidden":"true"}},[t._v("#")]),t._v(" 1 环境搭建")]),t._v(" "),n("h3",{attrs:{id:"_1-1-构建命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-构建命令","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1 构建命令")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装依赖")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动本地服务（默认test环境接口） localhost:8080")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打包测试版本")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build:test\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打包灰度版本")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build:gray\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打包正式版本")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build:prod\n")])])]),n("h3",{attrs:{id:"_1-2-开发目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-开发目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2 开发目录")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("template\n├─ build\n│    └─ build-version.js     "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打包后生成版本信息json")]),t._v("\n├─ config\n│    ├─ index.js\n│    └─ prod.env.js          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置版本信息和pid信息")]),t._v("\n├─ src\n│    ├─ App.vue              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 入口文件")]),t._v("\n│    ├─ main.js              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 主文件")]),t._v("\n│    ├─ assets\n│    │    ├─ iconfont        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 字体图标")]),t._v("\n│    │    ├─ images          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 静态图片")]),t._v("\n│    │    ├─ stylus          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 样式文件")]),t._v("\n│    │    └─ utils           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# js脚本")]),t._v("\n│    ├─ components           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 组件文件")]),t._v("\n│    │    ├─ hk-ui             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hekr公用组件")]),t._v("\n│    │    ├─ page              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 业务组件")]),t._v("\n│    │    └─ vant-ui\n│    ├─ directive            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指令文件夹")]),t._v("\n│    │    └─ index.js\n│    ├─ mixins               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mixins文件")]),t._v("\n│    │    └─ scan.vue\n│    ├─ prototype            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 挂载vue原型上的对象集合")]),t._v("\n│    │    ├─ hekr.js\n│    │    └─ index.js\n│    ├─ router               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 路由")]),t._v("\n│    │    └─ index.js\n│    ├─ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v("              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# api接口文件")]),t._v("\n│    │    ├─ api\n│    │    ├─ request\n│    │    └─ server\n│    ├─ store                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vue store")]),t._v("\n│    │    ├─ actions.js\n│    │    ├─ getters.js\n│    │    ├─ index.js\n│    │    ├─ mutations.js\n│    │    └─ state.js\n│    └─ views                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 页面")]),t._v("\n│           ├─ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),t._v("             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 404页面")]),t._v("\n│           ├─ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("bind")]),t._v("            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 绑定设备相关页面")]),t._v("\n│           ├─ ctrl            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设备控制页面")]),t._v("\n│           ├─ device          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设备页面")]),t._v("\n│           ├─ home            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 主页")]),t._v("\n│           ├─ login           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 登录相关页面")]),t._v("\n│           ├─ message         "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 消息页面")]),t._v("\n│           ├─ project         "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 项目页面")]),t._v("\n│           └─ user            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 个人中心页面")]),t._v("\n├─ index.html\n└─ package.json\n")])])]),n("h2",{attrs:{id:"_2-基本信息配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-基本信息配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 2 基本信息配置")]),t._v(" "),n("h3",{attrs:{id:"_2-1-app基本信息配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-app基本信息配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.1 app基本信息配置")]),t._v(" "),n("p",[t._v("配置文件"),n("code",[t._v("config/prod.env.js")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"production\"'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API_ENV")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API_ENV")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 接口环境 test, gray, prod")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BUILDTIME_ENV")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// zip小版本，不用卸载app，热更新，时间戳间隔为10分钟")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VERSION_ENV")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"1.0.0\"'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// app大版本，需要app重新安装时该版本才会变动")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PID_ENV")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"00000000000\"'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当前app的厂家pid, 区分app的标识")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"_2-2-本地存储key值配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-本地存储key值配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2 本地存储key值配置")]),t._v(" "),n("p",[t._v("文件"),n("code",[t._v("src/store/state.js")])]),t._v(" "),n("h3",{attrs:{id:"_2-3-css变量配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-css变量配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.3 css变量配置")]),t._v(" "),n("p",[t._v("文件"),n("code",[t._v("src/assets/stylus/var.styl")]),t._v("，包括颜色配置和间距配置")]),t._v(" "),n("h3",{attrs:{id:"_2-4-字体图标设置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-字体图标设置","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.4 字体图标设置")]),t._v(" "),n("p",[t._v("文件"),n("code",[t._v("src/assets/stylus/icon.styl")])]),t._v(" "),n("p",[t._v("操作流程：")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("登录iconfont网站，链接："),n("a",{attrs:{href:"http://www.iconfont.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.iconfont.cn"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v("把需要的图标导入到项目里，设置项目的字体为"),n("code",[t._v("iconfont")]),t._v(", 前缀为"),n("code",[t._v("van-icon")])])])]),t._v(" "),n("p",[n("img",{attrs:{src:a(208),alt:""}})]),t._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[n("p",[t._v("复制生成的Font class链接，引入到"),n("code",[t._v("icon.styl")]),t._v("里")])]),t._v(" "),n("li",[n("p",[t._v("使用时可以直接用name："),n("code",[t._v('van-icon(name="XXX")')])])])]),t._v(" "),n("h2",{attrs:{id:"_3-集成模块说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-集成模块说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 集成模块说明")]),t._v(" "),n("h3",{attrs:{id:"_3-1-zip更新"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-zip更新","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1 Zip更新")]),t._v(" "),n("ol",[n("li",[t._v("构建打包的时候执行"),n("code",[t._v("build/build-version.js")]),t._v("文件，生成带有版本信息的json文件")]),t._v(" "),n("li",[t._v("进入app执行"),n("code",[t._v("src/assets/utils/zipUpdate.js")]),t._v("中的方法")]),t._v(" "),n("li",[t._v("判断大版本（VERSION_ENV）和小版本（BUILDTIME_ENV），大版本更新提示卸载重装APP，小版本更新提示后执行"),n("code",[t._v("Matrix.upgradeH5")]),t._v("方法更新")])]),t._v(" "),n("h3",{attrs:{id:"_3-2-接口拦截"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-接口拦截","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.2 接口拦截")]),t._v(" "),n("ul",[n("li",[t._v("相关文件为"),n("code",[t._v("src/service/request.index.js")])]),t._v(" "),n("li",[t._v("设置请求超时时间和部分错误提示语")]),t._v(" "),n("li",[t._v("如果是get请求，添加时间戳，解决缓存问题")])]),t._v(" "),n("h3",{attrs:{id:"_3-3-开发环境matrix"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-开发环境matrix","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.3 开发环境Matrix")]),t._v(" "),n("ul",[n("li",[t._v("正式打包后Matrix对象为app外壳提供，开发过程中可以模拟Matrix对象返回")]),t._v(" "),n("li",[t._v("相关文件："),n("code",[t._v("src/assets/utils/matrix.js")])]),t._v(" "),n("li",[t._v("文件可以设置默认返回结果，比如扫码和获取clientId")])]),t._v(" "),n("h3",{attrs:{id:"_3-4-安卓返回键"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-安卓返回键","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.4 安卓返回键")]),t._v(" "),n("ul",[n("li",[t._v("安卓返回时会执行"),n("code",[t._v("Matrix.back")]),t._v("方法，所以可以通过重置方法来实现某些效果")]),t._v(" "),n("li",[t._v("集成的有在首页和登录页需要按两次返回退出APP")])]),t._v(" "),n("h3",{attrs:{id:"_3-5-移动端适配使用rem"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-移动端适配使用rem","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.5 移动端适配使用Rem")]),t._v(" "),n("ul",[n("li",[t._v("基数是20px, 使用postcss，开发中使用px或rem都可以，打包时会转成对应rem")]),t._v(" "),n("li",[t._v("相关文件有："),n("code",[t._v("src/assets/utils/rem.js")]),t._v(", "),n("code",[t._v(".postcssrc.js")])])]),t._v(" "),n("h3",{attrs:{id:"_3-6-定位天气"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-定位天气","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.6 定位天气")]),t._v(" "),n("ul",[n("li",[t._v("使用高德地图进行定位（AMap.Geolocation）和天气查询（AMap.Weather）")])]),t._v(" "),n("h3",{attrs:{id:"_3-7-消息推送"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-消息推送","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.7 消息推送")]),t._v(" "),n("ul",[n("li",[t._v("登录时或自动登录状态下进入APP时，获取并绑定clientId")]),t._v(" "),n("li",[t._v("手动退出时解绑clientId")])]),t._v(" "),n("h3",{attrs:{id:"_3-8-左右切换动画"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-左右切换动画","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.8 左右切换动画")]),t._v(" "),n("ul",[n("li",[t._v("Tab式切换，平滑左右切换")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 核心代码，举例设备控制页面左右切换")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      transitionName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'slide-right'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CtrlInfo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CtrlStatus'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CtrlThreshold'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CtrlAlarm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CtrlFault'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  watch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$route'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" toDepth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" fromDepth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transitionName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" toDepth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" fromDepth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'slide-right'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'slide-left'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("列表式切换，层级左右切换")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 核心代码，举例我的页面从列表切换到页面，进入和返回效果")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      transitionName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'slide-right'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  watch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$route'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" toDepth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transitionName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" toDepth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'UserList'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'slide-right'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'slide-left'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"_3-9-安卓返回取消弹层"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-安卓返回取消弹层","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.9 安卓返回取消弹层")]),t._v(" "),n("h3",{attrs:{id:"_3-10-头像裁剪上传"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-头像裁剪上传","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.10 头像裁剪上传")]),t._v(" "),n("h2",{attrs:{id:"_4-标准规范"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-标准规范","aria-hidden":"true"}},[t._v("#")]),t._v(" 4 标准规范")]),t._v(" "),n("h3",{attrs:{id:"_4-1-组件文件位置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-组件文件位置","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.1 组件文件位置")]),t._v(" "),n("ul",[n("li",[t._v("公共组件，扩展性强，适用于其他项目，放在"),n("code",[t._v("src/components/hk-ui/")]),t._v("中，以"),n("code",[t._v("hk-")]),t._v("命名")]),t._v(" "),n("li",[t._v("公共业务组件，偏向于业务型公用组件，放在"),n("code",[t._v("src/components/pages/")]),t._v("中")]),t._v(" "),n("li",[t._v("某个页面使用的小组件，直接放在页面路径里")])]),t._v(" "),n("h3",{attrs:{id:"_4-2-router规范"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-router规范","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.2 Router规范")]),t._v(" "),n("ul",[n("li",[t._v("router的name首字母大写驼峰命名")]),t._v(" "),n("li",[t._v("合理使用push和replace")]),t._v(" "),n("li",[t._v("push和replace一律使用name跳转")])]),t._v(" "),n("h2",{attrs:{id:"_5-todolist"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-todolist","aria-hidden":"true"}},[t._v("#")]),t._v(" 5 TodoList")]),t._v(" "),n("ul",[n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox40",checked:"true"}}),n("label",{attrs:{for:"checkbox40"}},[t._v("登陆、注册、忘记密码、找回密码功能")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox41",checked:"true"}}),n("label",{attrs:{for:"checkbox41"}},[t._v("绑定clientId，退出解绑")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox42",checked:"true"}}),n("label",{attrs:{for:"checkbox42"}},[t._v("接口拦截  统一处理错误消息、get请求统一加入随机数")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox43",checked:"true"}}),n("label",{attrs:{for:"checkbox43"}},[t._v("matrix方法测试环境集成")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox44",checked:"true"}}),n("label",{attrs:{for:"checkbox44"}},[t._v("zip自动更新")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox45",checked:"true"}}),n("label",{attrs:{for:"checkbox45"}},[t._v("安卓返回键集成")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox46",checked:"true"}}),n("label",{attrs:{for:"checkbox46"}},[t._v("扫码绑定流程")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox47",checked:"true"}}),n("label",{attrs:{for:"checkbox47"}},[t._v("集成调试工具vconsole")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox48",checked:"true"}}),n("label",{attrs:{for:"checkbox48"}},[t._v("集成图片预览插件")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox49",checked:"true"}}),n("label",{attrs:{for:"checkbox49"}},[t._v("使用rem")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox50",checked:"true"}}),n("label",{attrs:{for:"checkbox50"}},[t._v("引入fastClick")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox51",checked:"true"}}),n("label",{attrs:{for:"checkbox51"}},[t._v("头像裁剪上传")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox52"}}),n("label",{attrs:{for:"checkbox52"}},[t._v("骨架屏")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox53"}}),n("label",{attrs:{for:"checkbox53"}},[t._v("图片懒加载")])]),t._v(" "),n("li",[n("input",{attrs:{type:"checkbox",id:"checkbox54"}}),n("label",{attrs:{for:"checkbox54"}},[t._v("天气图标")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);