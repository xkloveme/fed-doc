(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{219:function(e,r,t){"use strict";t.r(r);var a=t(0),E=Object(a.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"丛云app接口说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#丛云app接口说明","aria-hidden":"true"}},[e._v("#")]),e._v(" 丛云APP接口说明")]),e._v(" "),t("h2",{attrs:{id:"_1-用户相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-用户相关","aria-hidden":"true"}},[e._v("#")]),e._v(" 1. 用户相关")]),e._v(" "),t("h3",{attrs:{id:"_1-1-注册"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-注册","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1 注册")]),e._v(" "),t("p",[e._v("注册包括手机注册和邮箱注册")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C/",target:"_blank",rel:"noopener noreferrer"}},[e._v("登录注册"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_1-2-登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-登录","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.2 登录")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C/#%E4%BD%BF%E7%94%A8%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用账号密码登录"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_1-3-重置密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-重置密码","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.3 重置密码")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C/#%E4%BD%BF%E7%94%A8%E6%89%8B%E6%9C%BA%E5%8F%B7%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用手机号重置密码"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C/#%E4%BD%BF%E7%94%A8%E9%82%AE%E7%AE%B1%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用邮箱重置密码"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_1-4-修改密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-修改密码","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.4 修改密码")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C/#%E4%BD%BF%E7%94%A8%E6%97%A7%E5%AF%86%E7%A0%81%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用旧密码修改密码"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_1-5-个人信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-个人信息","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.5 个人信息")]),e._v(" "),t("p",[e._v("获取用户信息：")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E7%94%A8%E6%88%B7API/#%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E6%A1%A3%E6%A1%88",target:"_blank",rel:"noopener noreferrer"}},[e._v("获取用户档案"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("更新用户信息")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E7%94%A8%E6%88%B7API/#%E6%9B%B4%E6%96%B0%E7%94%A8%E6%88%B7%E6%A1%A3%E6%A1%88",target:"_blank",rel:"noopener noreferrer"}},[e._v("更新用户档案"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_1-6-上传图片"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-上传图片","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.6 上传图片")]),e._v(" "),t("p",[e._v("上传图片通用接口，应用在上传头像、反馈建议等页面。")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8/#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[e._v("上传文件"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"_2-设备管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-设备管理","aria-hidden":"true"}},[e._v("#")]),e._v(" 2. 设备管理")]),e._v(" "),t("h3",{attrs:{id:"_2-1-拉取设备列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-拉取设备列表","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.1 拉取设备列表")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86/#%E5%88%97%E4%B8%BE%E8%AE%BE%E5%A4%87",target:"_blank",rel:"noopener noreferrer"}},[e._v("列举设备"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("如 "),t("code",[e._v("https://user-openapi.hekr.me/device?&page=0&size=20")])]),e._v(" "),t("h3",{attrs:{id:"_2-2-设备固件更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-设备固件更新","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2 设备固件更新")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E4%BC%81%E4%B8%9AAPI/#%E5%88%A4%E6%96%AD%E8%AE%BE%E5%A4%87%E6%A8%A1%E5%9D%97%E5%9B%BA%E4%BB%B6%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E5%8D%87%E7%BA%A7",target:"_blank",rel:"noopener noreferrer"}},[e._v("查询固件是否更新"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("执行固件更新接口，云端待开发。")]),e._v(" "),t("h2",{attrs:{id:"_3-系统设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-系统设置","aria-hidden":"true"}},[e._v("#")]),e._v(" 3. 系统设置")]),e._v(" "),t("h3",{attrs:{id:"_3-1-消息中心"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-消息中心","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.1 消息中心")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E7%94%A8%E6%88%B7API/#%E8%8E%B7%E5%8F%96%E6%8E%A8%E9%80%81%E5%8E%86%E5%8F%B2%E6%B6%88%E6%81%AF",target:"_blank",rel:"noopener noreferrer"}},[e._v("获取推送历史消息"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("如  "),t("code",[e._v("https://user-openapi.hekr.me/api/v1/app/push/history?size=20&page=0")])]),e._v(" "),t("h3",{attrs:{id:"_3-2-常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-常见问题","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.2 常见问题")]),e._v(" "),t("p",[e._v("打开链接  "),t("code",[e._v("http://app.hekr.me/FAQ/index.html?clientType=IOS&lang=zh-CN&theme=1&version=1.8.5")])]),e._v(" "),t("p",[e._v("参数说明：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("①：IOS / ANDROID  \n②：语言\n    en-US--英文    \n    zh-CN--中文    \n③：主题\n    0--夜间主题    \n    1--蓝色主题    \n    2--米黄色主题  \n    3--绿色主题\n④:App Name\n    中文默认：云知屋\n    英文默认：Wisen\n")])])]),t("h3",{attrs:{id:"_3-3-反馈建议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-反馈建议","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.3 反馈建议")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E4%BC%81%E4%B8%9AAPI/#%E9%92%88%E5%AF%B9%E8%AE%BE%E5%A4%87%E5%8F%8D%E9%A6%88%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"}},[e._v("针对设备反馈问题"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("如 "),t("code",[e._v("https://console-openapi.hekr.me/external/feedback")])]),e._v(" "),t("h3",{attrs:{id:"_3-4-用户协议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-用户协议","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.4 用户协议")]),e._v(" "),t("p",[e._v("打开链接  "),t("code",[e._v("http://app.hekr.me/FAQ/user_protocol.html?lang=zh-CN")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("①：语言    \n    en-US--英文    \n    zh-CN--中文  默认值   \n\n")])])]),t("h2",{attrs:{id:"_4-共享授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-共享授权","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.共享授权")]),e._v(" "),t("h3",{attrs:{id:"_4-1-简要说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-简要说明","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.1 简要说明")]),e._v(" "),t("p",[e._v("APP中使用的授权流程为“反向授权”。设备主A展示授权二维码，用户B打开APP，扫描A上的二维码")]),e._v(" "),t("h3",{attrs:{id:"_4-2-a生成授权二维码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-a生成授权二维码","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.2 A生成授权二维码")]),e._v(" "),t("p",[e._v("接口地址： "),t("code",[e._v("https://user-openapi.hekr.me/authorization/reverse/authUrl")])]),e._v(" "),t("p",[e._v("接口说明：\n"),t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E8%AE%BE%E5%A4%87%E6%8E%88%E6%9D%83/#%E5%88%9B%E5%BB%BA%E6%8E%88%E6%9D%83%E9%93%BE%E6%8E%A5%E4%BA%8C%E7%BB%B4%E7%A0%81",target:"_blank",rel:"noopener noreferrer"}},[e._v("创建授权链接-二维码"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("拿到“reverseAuthorizationTemplateId”，二维码内容格式可定义为“action=rauth&token={reverseAuthorizationTemplateId}”。")]),e._v(" "),t("h3",{attrs:{id:"_4-3-b扫描二维码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-b扫描二维码","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.3 B扫描二维码")]),e._v(" "),t("p",[e._v("用户B扫描拿到二维码内容后，发起申请设备授权。")]),e._v(" "),t("p",[e._v("接口地址："),t("code",[e._v("https://user-openapi.hekr.me/authorization/reverse/register?reverseTemplateId={reverseTemplateId}&grantee={uid}")])]),e._v(" "),t("p",[e._v("接口说明：\n"),t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E8%AE%BE%E5%A4%87%E6%8E%88%E6%9D%83/#%E7%94%B3%E8%AF%B7%E8%AE%BE%E5%A4%87%E6%8E%88%E6%9D%83",target:"_blank",rel:"noopener noreferrer"}},[e._v("申请设备授权"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("注意，请求参数要加上uid，即用户B的uid。")]),e._v(" "),t("h3",{attrs:{id:"_4-4-a查看授权申请"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-a查看授权申请","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.4 A查看授权申请")]),e._v(" "),t("p",[e._v("A收到APP的推送消息。")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E6%8E%A8%E9%80%81%E6%B6%88%E6%81%AF/#%E7%94%B3%E8%AF%B7%E7%94%A8%E6%88%B7%E6%89%AB%E6%8F%8F%E6%8E%88%E6%9D%83%E7%A0%81%E5%B1%9E%E4%B8%BB%E6%94%B6%E5%88%B0%E6%8E%A8%E9%80%81",target:"_blank",rel:"noopener noreferrer"}},[e._v("属主收到推送"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("然后发起查询请求，弹出对话框，让用户选择“拒绝”还是“允许”。")]),e._v(" "),t("p",[e._v("查询接口："),t("code",[e._v("https://user-openapi.hekr.me/authorization/reverse/register?page=0&size=1")])]),e._v(" "),t("p",[e._v("接口说明：\n"),t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E8%AE%BE%E5%A4%87%E6%8E%88%E6%9D%83/#%E6%9F%A5%E7%9C%8B%E6%8E%88%E6%9D%83%E7%94%B3%E8%AF%B7%E8%AE%B0%E5%BD%95",target:"_blank",rel:"noopener noreferrer"}},[e._v("查看授权申请记录"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_4-5-a同意授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-a同意授权","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.5 A同意授权")]),e._v(" "),t("p",[e._v("同意授权："),t("code",[e._v("POST https://user-openapi.hekr.me/authorization/reverse?devTid=ESP_2154&ctrlKey=d06310dac70&reverseRegisterId=fb725b0207:13113")])]),e._v(" "),t("p",[e._v("拒绝授权：接口同上，POST改为DELETE。")]),e._v(" "),t("p",[e._v("接口说明：\n"),t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E8%AE%BE%E5%A4%87%E6%8E%88%E6%9D%83/#%E5%90%8C%E6%84%8F%E6%8E%88%E6%9D%83%E7%94%B3%E8%AF%B7",target:"_blank",rel:"noopener noreferrer"}},[e._v("同意授权申请"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_4-6-查看共享信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-查看共享信息","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.6 查看共享信息")]),e._v(" "),t("p",[e._v("接口说明：\n"),t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E8%AE%BE%E5%A4%87%E6%8E%88%E6%9D%83/#%E5%88%97%E4%B8%BE%E8%AE%BE%E5%A4%87%E6%8E%88%E6%9D%83",target:"_blank",rel:"noopener noreferrer"}},[e._v("列举设备授权"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"_5-推送配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-推送配置","aria-hidden":"true"}},[e._v("#")]),e._v(" 5. 推送配置")]),e._v(" "),t("h3",{attrs:{id:"_5-1-绑定推送标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-绑定推送标签","aria-hidden":"true"}},[e._v("#")]),e._v(" 5.1 绑定推送标签")]),e._v(" "),t("p",[e._v("登录后需要发起绑定请求。")]),e._v(" "),t("p",[e._v("接口地址："),t("code",[e._v("https://user-openapi.hekr.me/user/pushTagBind")])]),e._v(" "),t("p",[e._v("接口说明：\n"),t("a",{attrs:{href:"http://docs.hekr.me/v4/%E4%BA%91%E7%AB%AFAPI/%E7%94%A8%E6%88%B7API/#%E7%BB%91%E5%AE%9A%E6%8E%A8%E9%80%81%E6%A0%87%E7%AD%BE%E9%80%90%E4%B8%AA%E7%BB%91%E5%AE%9A",target:"_blank",rel:"noopener noreferrer"}},[e._v("绑定推送标签"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("参数示例：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n\t"locale": "zh_CN",\n\t"clientId": "76812e56e9186b2788d382fb937be4e6",\n\t"pushPlatform": "GETUI"\n}\n')])])]),t("p",[e._v("clientId由APP提供。")]),e._v(" "),t("h2",{attrs:{id:"_6-其它接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-其它接口","aria-hidden":"true"}},[e._v("#")]),e._v(" 6. 其它接口")]),e._v(" "),t("h3",{attrs:{id:"_6-1-拉取位置天气"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-拉取位置天气","aria-hidden":"true"}},[e._v("#")]),e._v(" 6.1 拉取位置天气")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('curl -v -X GET \\\n    -H "Authorization: Bearer {JWT_TOKEN}" \\\n    -H "Accept: application/json" \\\n    "https://user-openapi.hekr.me/external/now?location=30.274660:120.122529"\n')])])]),t("p",[e._v("location为定位的经纬度。\t\n定位使用高德JSSDK，具体见"),t("a",{attrs:{href:"https://lbs.amap.com/api/javascript-api/reference/location",target:"_blank",rel:"noopener noreferrer"}},[e._v("定位"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("key使用  "),t("code",[e._v("38b5cc7527ad54fe1bceb8360b309934")])])])}),[],!1,null,null,null);r.default=E.exports}}]);